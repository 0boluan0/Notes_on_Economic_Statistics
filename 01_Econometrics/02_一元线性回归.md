# 回归：从身高问题的分析讲起、
## 起源

> 回归：regression
* 源自生物统计中的概念。最初被用于描述子代与父代的身高关系，子代身高与父代身高有较强的关联。
* ![[Pasted image 20240228202716.png]]
* 每一组的均值都是条件均值。即：在父代的身高确定的情况下，子代身高样本的均值。表示为![[Pasted image 20240228131447.png]]
* y的实际水平会随着其他的一系列的不可控的随机因素的干扰，故给原式中加入一个随机扰动（误差），以符合现实情况。

## 意义
**y的取值最终会向由解释变量x所决定的平均水平上回复，这种回复的趋势叫做回归（regression）。**
>注意：一定是y向x回归。且不是向x的值回归，而是向着x决定的那个均值回归。

---

# 一元线性回归（书上第三章）

## 总体回归方程

![[Pasted image 20240228132651.png]]
 **反应最真实的数量关系**，是真实存在的对象，是研究者想要研究的，但是事实上无法真实全知的值。
 * 总体回归方程将我们要研究的数据分成了两个部分，一个是前边两个部分，这部分我们可以理解并解释，而后面的扰动项我们无法解释
 * 方程的来源：前沿的研究与朴素的共性认知。 
N是样本容量，根据容量不同分为[[零散知识点#大样本与小样本|大样本和小样本]]。
![[Pasted image 20240305082342.png]]
条件期望（不是均值，总体只有期望没有均值，反之样本只有均值没有期望）
### 推导：如何从[[Pasted image 20240228132651.png|总体回归方程]]推导到[[Pasted image 20240305082342.png|总体期望方程]]

对总体回归方程左右同取期望，u的期望是0，得到了总体的期望方程
### 为什么u的期望一定是0

深层原因是因为贝塔0的存在，任何不为0的值都可以归到贝塔0中去。

## 样本回归方程

![[Pasted image 20240304203122.png]]
其中的贝塔0hat和贝塔1hat依靠[[零散知识点#残差|残差]]决定。
已知![[Pasted image 20240305130551.png]]
那么残差的值就是取Y和Yhat这两个列向量的[[零散知识点#欧几里得距离|欧几里得距离]]，即取残差平方和。

# 最小二乘法ordinary least square

二乘就是平方的意思，引进的时候翻译不到位。

## 推导

由上面的过程得知，现在要求残差平方和最小，即![[Pasted image 20240305131708.png]]

要求其极小值，只需要一阶偏导得零即可，不需要二阶偏导为正，因为现在要求的是残差平方和极小值，而残差平方和不存在极大值，故其一阶偏导为0时就一定是极小值点。

**由此推知一阶优化条件**：
![[Pasted image 20240305132555.png]]

由一阶优化条件得到正规方程组
## 正规方程组：

![[Pasted image 20240305133741.png]]

>如何理解正规方程组的意义？

事实啥高是对贝塔0hat和贝塔1hat做偏导得到的

### 意义

![[Pasted image 20240306174249.png]]
是对贝塔0hat求偏导得到的，意味着残差的均值为0

![[Pasted image 20240306174325.png]]

是对贝塔1hat求偏导得到的，意味着x和uhat的样本协方差为0，因为这个除以自由度就是样本协方差的公式，这个式子相当于是分子，
